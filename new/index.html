<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hello World</title>
        <style>
            body {
                margin: 0;
            }
        </style>
    </head>
    <script src="node_modules/pixi.js/dist/pixi.min.js"></script>

    <script src="src/App/BlueprintRenderer.js"></script>

    <script src="src/Parser/BPParser.js"></script>
    <script src="src/Parser/BPToNodes.js"></script>

    <script src="src/Globals/Config.js"></script>

    <script src="src/Grid/Grid.js"></script>

    <script src="src/Nodes/RegularNode.js"></script>
    <script src="src/Nodes/FunctionNode.js"></script>
    <script src="src/Textures/Textures.js"></script>

    <script src="src/libs/vector.js"></script>
    <body>
        <script type="text/javascript">


            var app = new PIXI.Application(window.innerWidth, window.innerHeight, {backgroundColor: 0x2a2a2a});
            document.body.appendChild(app.view);

            drawGrid(app);

            var texturesHandler = new TexturesHandler();



            var render = new BlueprintRenderer();
            render.renderFromFile("/tests/file_big.txt", function (nodes) {
                var nodesObjects = BPToNodes(nodes, texturesHandler);
                for (var i = 0, l = nodesObjects.length; i < l; i++) {
                    nodesObjects[i].draw(app);
                }
            });

            String.prototype.format = function () {
                var formatted = this;
                for (var i = 0; i < arguments.length; i++) {
                    var regexp = new RegExp('\\{' + i + '\\}', 'gi');
                    formatted = formatted.replace(regexp, arguments[i]);
                }
                return formatted;
            };

            String.prototype.fromCamelCase = function () {
                var newString = '';
                for (var i = 0; i < this.length; i++) {
                    newString += this[i];
                    if (isLetter(this[i]) && this[i + 1] && isLetter(this[i + 1])) {
                        if (this[i].toLowerCase() === this[i] && this[i + 1].toUpperCase() === this[i + 1]) {
                            newString += " ";
                        }
                    }
                }
                return newString.trim();
            }

            function isLetter(c) {
                return c.toLowerCase() !== c.toUpperCase();
            }



        </script>
    </body>
</html>
